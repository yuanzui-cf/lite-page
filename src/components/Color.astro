---
import { generateColor } from "../scripts/color";

interface Props {
    // HEX Color
    color?: string;
}

let color = Astro.props.color || Astro.locals.config.theme.color;

let colors = generateColor(color);
---

<div>
    <slot />
</div>

<style
    define:vars={{
        systemColor000: colors["000"],
        systemColor100: colors["100"],
        systemColor200: colors["200"],
        systemColor300: colors["300"],
        systemColor400: colors["400"],
        systemColor500: colors["500"],
        systemColor600: colors["600"],
        systemColor700: colors["700"],
        systemColor800: colors["800"],
        systemColor900: colors["900"],
        systemColor1000: colors["1000"],
    }}
>
    div::selection {
        background-color: var(--system-color-900);
        color: var(--system-color-100);
    }

    div {
        /* System Color Generated By color.ts */
        --system-color-000: var(--systemColor000);
        --system-color-100: var(--systemColor100);
        --system-color-200: var(--systemColor200);
        --system-color-300: var(--systemColor300);
        --system-color-400: var(--systemColor400);
        --system-color-500: var(--systemColor500);
        --system-color-600: var(--systemColor600);
        --system-color-700: var(--systemColor700);
        --system-color-800: var(--systemColor800);
        --system-color-900: var(--systemColor900);
        --system-color-1000: var(--systemColor1000);
    }

    div {
        --theme-background: var(--system-color-000);
        --theme-color: var(--system-color-1000);
    }

    body[dark] div {
        --theme-background: var(--system-color-1000);
        --theme-color: var(--system-color-000);
    }
</style>
