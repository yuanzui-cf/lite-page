---
import { generateColor } from "../assets/scripts/color";

interface Props {
    // HEX Color
    color?: string;
}

let color = Astro.props.color || Astro.locals.config.theme.color;

let colors = generateColor(color);
---

<div>
    <slot />
</div>

<style
    define:vars={{
        systemColor000: colors["000"],
        systemColor050: colors["050"],
        systemColor100: colors["100"],
        systemColor150: colors["150"],
        systemColor200: colors["200"],
        systemColor250: colors["250"],
        systemColor300: colors["300"],
        systemColor350: colors["350"],
        systemColor400: colors["400"],
        systemColor450: colors["450"],
        systemColor500: colors["500"],
        systemColor550: colors["550"],
        systemColor600: colors["600"],
        systemColor650: colors["650"],
        systemColor700: colors["700"],
        systemColor750: colors["750"],
        systemColor800: colors["800"],
        systemColor850: colors["850"],
        systemColor900: colors["900"],
        systemColor950: colors["950"],
        systemColor1000: colors["1000"],
    }}
>
    div::selection {
        background-color: var(--theme-primary);
        color: var(--theme-on-primary);
    }

    div {
        /* System Color Generated By color.ts */
        --system-color-000: var(--systemColor000);
        --system-color-050: var(--systemColor050);
        --system-color-100: var(--systemColor100);
        --system-color-150: var(--systemColor150);
        --system-color-200: var(--systemColor200);
        --system-color-250: var(--systemColor250);
        --system-color-300: var(--systemColor300);
        --system-color-350: var(--systemColor350);
        --system-color-400: var(--systemColor400);
        --system-color-450: var(--systemColor450);
        --system-color-500: var(--systemColor500);
        --system-color-550: var(--systemColor550);
        --system-color-600: var(--systemColor600);
        --system-color-650: var(--systemColor650);
        --system-color-700: var(--systemColor700);
        --system-color-750: var(--systemColor750);
        --system-color-800: var(--systemColor800);
        --system-color-850: var(--systemColor850);
        --system-color-900: var(--systemColor900);
        --system-color-950: var(--systemColor950);
        --system-color-1000: var(--systemColor1000);
    }

    div {
        --theme-background: var(--system-color-000);
        --theme-color: var(--system-color-1000);
        --theme-primary: var(--system-color-750);
        --theme-on-primary: var(--system-color-100);
        --theme-secondary: var(--system-color-700);
        --theme-on-secondary: var(--system-color-100);
        --theme-outline: var(--system-color-850);
        --theme-outline-variant: var(--system-color-200);
        --theme-surface: var(--system-color-050);
        --theme-on-surface: var(--system-color-950);
    }

    body[dark] div {
        --theme-background: var(--system-color-1000);
        --theme-color: var(--system-color-000);
        --theme-primary: var(--system-color-250);
        --theme-on-primary: var(--system-color-900);
        --theme-secondary: var(--system-color-300);
        --theme-on-secondary: var(--system-color-100);
        --theme-outline: var(--system-color-150);
        --theme-outline-variant: var(--system-color-800);
        --theme-surface: var(--system-color-950);
        --theme-on-surface: var(--system-color-050);
    }
</style>
